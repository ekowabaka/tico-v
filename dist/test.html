<!DOCTYPE html>
<html>
    <head>
        <script src="tv.js"></script>
        <script>
            const data = {
                code: [
                    {id: "1", code: "Hello World 1"},
                    {id: "2", code: "Hello World 2"},
                    {id: "3", code: "Hello World 3"},
                ],
                name: "A Name",
                changed_name: "A Name"
            };
            window.addEventListener('load', function() {
                view = tv.bind(document.getElementById("wrapper"));
                document.getElementById("ulists").addEventListener("tv-update", e => console.log("ulist updated", e))
                view.data = data
                view.data.code.push({"id": 4, "code": "New way to get this done!"})
                view.data.changed_name = "A Changed Name"


            });
        </script>
    </head>
    <body>
        <div id="wrapper">
            {{name}} : {{changed_name}}
            <ul id="ulists" tv-id="lis" tv-foreach="code">
                <li>{{id}}</li>
            </ul>
            <ol id="olists" tv-id="ols" tv-foreach="code">
                <li tv-value-id="{{id}}" tv-value-class='test {{ id ? "Hi"}}''>{{code}}</li>
            </ol> 
        </div>
    </body>
</html>